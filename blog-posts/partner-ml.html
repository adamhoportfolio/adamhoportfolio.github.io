<!DOCTYPE html><html data-wf-page="6675fef784ac8a70b3b907bf" data-wf-site="6675fef784ac8a70b3b90776" data-wf-status="1" lang="en" data-wf-locale="en" data-wf-collection="6675fef784ac8a70b3b907ea" data-wf-item-slug="partner-ml"><head><meta charset="utf-8"/><title>Blog Posts</title><meta content="width=device-width, initial-scale=1" name="viewport"/><meta content="Webflow" name="generator"/><link href="../css/webflow-style.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com" rel="preconnect"/><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous"/><script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script><script type="text/javascript">WebFont.load({  google: {    families: ["Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic","Roboto:300,regular,500","Unbounded:regular"]  }});</script><script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script><link href="../images/favicon.png" rel="shortcut icon" type="image/x-icon"/><link href="../images/app-icon.png" rel="apple-touch-icon"/></head><body><div class="header-section nav-menu"><div class="w-container"><a href="/" class="blog-home-link w-inline-block"></a><div class="navigation-bar"><a href="/" class="nav-link">Projects</a><a href="/about" class="nav-link">about</a><a href="https://github.com/wacsvn" target="_blank" class="nav-link">Github</a></div></div><a href="/about" class="w-inline-block"><h1 class="blog-name"><strong class="bold-text navigation-logo">ADAM HO</strong></h1></a><div class="text-block">DATA SCIENCE, B.S.</div></div><div class="section"><div data-w-id="5d559596-fa66-860b-d991-7b6b5a6154eb" style="opacity:0" class="w-container"><img alt="" src="../images/phq__2380_edited_12.5.19__281_29.jpg" sizes="80vw" srcset="../images/phq__2380_edited_12.5.19__281_29-p-500.jpg 500w, ../images/phq__2380_edited_12.5.19__281_29-p-800.jpg 800w, ../images/phq__2380_edited_12.5.19__281_29-p-1080.jpg 1080w, ../images/phq__2380_edited_12.5.19__281_29-p-1600.jpg 1600w, ../images/phq__2380_edited_12.5.19__281_29-p-2000.jpg 2000w, ../images/phq__2380_edited_12.5.19__281_29-p-2600.jpg 2600w, ../images/phq__2380_edited_12.5.19__281_29-p-3200.jpg 3200w, ../images/phq__2380_edited_12.5.19__281_29.jpg 3840w" class="main-image"/><h1 data-w-expand="category" class="post-heading">Partner Engineering - Machine Learning for Frame PREDICTION</h1><div class="byline-wrapper"><div class="byline-text">July 15, 2024</div><div class="byline-text">In</div><a href="/categories/capstone" class="byline-link">Capstone</a></div><div class="blog-content w-richtext"><p>Browse the <a href="https://sites.google.com/uci.edu/stats170group3/home">official project website</a> with progress presentations!</p><p>View the code for this portion of the project at <a href="https://deepnote.com/workspace/ellies-workspace-9b97b54c-1267-4be2-9313-38a8e60d8790/project/Partner-Eng-Models-aa72ad5b-4609-409b-ae7e-8a5fd2e73142/notebook/[FULL]%203%3A%20Building%20Model%20Pipeline-d81e21d662fe47f382dde1c3d3006b66">Deepnote </a>or <a href="https://github.com/ellilee/group3-partner-eng/blob/main/%5BFULL%5D%203_%20Building%20Model%20Pipeline.ipynb">Github</a>!</p><p>View the report document detailing the entire process <a href="https://drive.google.com/file/d/1VdOpE-CD_b0SUzv4uFk8qysgLEToqyyS/view?usp=sharing">here</a>!</p><p>‍</p><p>Partner is the leading provider of engineering, environmental, construction, energy, and valuation consulting for the commercial real estate industry.</p><p>In hopes of simplifying their Property Condition Assessment (PCA) report, this project aimed to assess the associations between different structural component attributes, and to evaluate whether certain attributes imply the presence of others. </p><p>Based on the analysis detailed in the previous project post, I contributed in creating a machine learning model that utilizes a Balanced Random Forest classifier to predict the material of a given building&#x27;s structural frame. This post details the journey in modeling that eventually won my team 3rd place at the 4th Annual ICS Expo! </p><figure style="max-width:50%" class="w-richtext-align-fullwidth w-richtext-figure-type-image"><div><img src="../images/screenshot-202024-06-22-20151706.png" loading="lazy" alt=""/></div><figcaption><a href="https://ics.uci.edu/event/4th-annual-ics-project-expo/"><em>4th Annual ICS Expo Certificate </em></a></figcaption></figure><p>‍</p><figure style="max-width:50%" class="w-richtext-align-fullwidth w-richtext-figure-type-image"><div><img src="../images/screenshot-202024-06-22-20151814.png" loading="lazy" alt=""/></div><figcaption><em>Excerpt of our Expo Poster detailing the 6-month process data wrangling and modeling process.</em></figcaption></figure><p>‍</p><h2><strong>Models Evolution: </strong></h2><h2><strong>6A. Logistic Regression</strong></h2><p>Since the data has a binary response, we initially tried to fit our data in a logistic regression model. However, the linearity assumption was violated, and thus logistic regression could not be used. </p><figure style="max-width:1057pxpx" class="w-richtext-align-fullwidth w-richtext-figure-type-image"><div><img src="../images/ad_4nxdd6iwicxa3bwdpqidyfdrokslg1fbwgxsp4usgaoy59bump8mwsl8djenbhhk9uz3slhjtvfgrmzombdi2zexgbittfhixrilw3j065ztt-yunc4f1-vr-yfm3myvg3uv34ebabvjfbtuuu0_qgy8rmoz2.png" loading="lazy" alt=""/></div><figcaption><em>The binned residual plot which shows that residuals are not around zero.</em></figcaption></figure><p>‍</p><h2><strong>6B: Decision Tree Model</strong></h2><p>In order to check if the data could be used in the model, we first ran a correlation matrix to see if any of the attributes were highly correlated with each other. We found there were no high correlations, which justifies the use of this model for our dataset.</p><figure style="max-width:1193pxpx" class="w-richtext-align-fullwidth w-richtext-figure-type-image"><div><img src="../images/ad_4nxchapazoo11zqkze1ut_u2v0utrfjmsipegqdogueixh1b3drkucrhvckkaulvranparr1at77uyfn6zqqjnn8fnqhueou80f1xslo8mj1hel5vfdkof8mukmnnvtwepb7ny0rumop6hgf32ntj9x3hsctk.png" loading="lazy" alt=""/></div><figcaption><em>Correlation matrix shows our predictors are not highly correlated.</em></figcaption></figure><p>‍</p><p>We first built the decision tree model using only square feet as a predictor for the presence of a wood frame, which is based on the proposed hypotheses that Partner gave us. This model gave a good accuracy score of 83.2% but a very low F1 score of 6.8%. Thus, we explored the dataset further, and based on our analysis and domain knowledge, we added the number of floors, number of tenants, region, and property type as predictors. This yielded an accuracy score of 85.9% and an F1 score of 32%. While better than the previous model, the F1 score still remains low due to class imbalances. </p><p>‍</p><h2><strong>6C: Balanced Random Forests Model</strong></h2><p>In order to account for the class imbalances between frame types, we sought to experiment with additional techniques that may improve our model’s accuracy. We first attempted to implement a Balanced Random Forest Model, which essentially draws an equal number of bootstrap samples from the minority (Wood Frame) and majority (No Wood Frame) classes, and then applies the random forest model on it, ideally avoiding any overfitting caused by imbalances. Fitting this model yielded an improvement in results from the baseline; while accuracy decreased to a more realistic 71%, the F1 Score greatly increased to 0.545. Intuitively, this meant that the model was getting slightly better at predicting true positives. </p><p>‍</p><p>Next, in an effort to improve the accuracy of the model from that baseline, we introduced different weight values. Such changes included setting the weight parameter to be inversely proportional to class frequencies, as well as setting the parameter to be “balanced”. However, none of these tweaks to the weight introduced a significant improvement to the baseline model. </p><p>‍</p><p>We additionally experimented with tuning hyperparameters in order to yield the most optimal scores on our testing set. This <em>did</em> improve the model, with accuracy reaching a peak of 80.4% and f1-score reaching 0.643. Some of the hyperparameters here include the criterion, minimum samples split, and max features arguments. However, the three most influential hyperparameter alterations were:</p><ul role="list"><li>Increasing the number of estimators (trees) - makes model less prone to effects of noise in individual trees</li><li>Reducing max depth - reduces complexity / chance of overfitting</li><li>Specifying criterion as ‘entropy’ - may produce more balanced trees than ‘gini’ </li></ul><p>‍</p><figure class="w-richtext-align-floatleft w-richtext-figure-type-image"><div><img src="../images/ad_4nxdtn_v9qdtpmcilihslh105eulmpkp8kefmq7uontqk9zfobdzsrfl35vay2knogrpjbod0akf7hhjz1x6nm1q1ysq85gxbocfd5ilp6tnzs1exqltuhemvt6cpnaypcajacs4duubb7ztyjohubaudq8pm.png" loading="lazy" alt=""/></div><figcaption><em>Baseline BRF Model</em></figcaption></figure><figure class="w-richtext-align-floatright w-richtext-figure-type-image"><div><img src="../images/ad_4nxdv1ucgufppykrxyulzdqdl3vvp7m-fnpw3tuleb2xyxlrg3i07nkqknwhe55hvcyzgimewu-qeyb0oli9uqwg-yqoazh2cps0yh7jdtwb4eu-ysjo8vzxxfe38c-wn2dc-icth0zzum1vt-dvnghtusgkd.png" loading="lazy" alt=""/></div><figcaption><em>BRF After Tuning</em></figcaption></figure><p><em>					</em></p><p>‍</p><p>‍</p><p>‍</p><p>‍</p><p>‍</p><p>‍</p><p>‍</p><p>‍</p><p>‍</p><p>‍</p><h2>‍<strong>‍</strong></h2><p>‍</p><p>‍</p><p>‍</p><p>‍</p><p>‍</p><p>‍</p><h2><strong>6D: Grid Cross Cross-Validation and Synthetic Minority Over-Sampling Technique (SMOTE)</strong></h2><p>Although these changes resulted in the highest accuracy we’ve seen from the model thus far, we still wanted to utilize a technique that could automate the search for these optimal hyperparameters to see if the model could be refined even <em>further.</em></p><p>‍</p><p>Grid Cross Cross-Validation is a method that explores various combinations of hyperparameter values within a predetermined grid, and then it implements cross-validation to assess the performance of each combination of hyperparameters. With k = 5 folds, the best parameters were: </p><ul role="list"><li><strong>&#x27;criterion&#x27;</strong>: &#x27;gini&#x27;</li><li><strong>&#x27;max_depth&#x27;</strong>: 20/None</li><li><strong>&#x27;max_features&#x27;</strong>: &#x27;log2&#x27;/’sqft’</li><li><strong>&#x27;min_samples_leaf&#x27;</strong>: 5</li><li><strong>&#x27;min_samples_split&#x27;</strong>: 2</li><li><strong>&#x27;n_estimators&#x27;</strong>: 180</li></ul><p>The best parameters had an accuracy score of 76.9% and an F1 score of 33.1%, indicating we may need to account for overfitting in our previous models. Additionally, the model took around 15 minutes to run.</p><p>‍</p><p>Sampling Minority Over-Sampling Technique, or SMOTE, is another technique that addresses class imbalance by generating new synthetic samples for the minority class (Wood Frame). We found, however, that this technique did not improve our metrics much, yielding an accuracy of 79.4% and an F1 score of 43.2%.</p><p>‍</p></div></div></div><div class="footer"><div class="w-container"><div><a href="https://github.com/wacsvn" target="_blank" class="social-icon-link w-inline-block"><img src="../images/github-white.svg" width="30" alt="" class="image"/></a><a href="#" class="social-icon-link w-inline-block"></a><a href="https://www.linkedin.com/in/adam-ho-056852208/" target="_blank" class="social-icon-link w-inline-block"><img src="../images/linkedin-white.svg" width="30" alt=""/></a></div><div class="footer-text">2025</div></div></div><script src="../js/jquery.js" type="text/javascript"  ></script><script src="../js/webflow.schunk.4a394eb5af8156f2.js" type="text/javascript"></script><script src="../js/webflow.schunk.3bf3c06809a02500.js" type="text/javascript"></script><script src="../js/webflow-script.js" type="text/javascript"></script></body></html>